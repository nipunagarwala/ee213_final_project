(unless (isCallable '_sevPanicStateLoader) (defun _sevPanicStateLoader (@key (session nil) (design nil))  (let ( (answer nil) status queryStr defStateName  		(dirName (simplifyFilename (strcat (_sevGetPanicStateSavingPath ?session session) "/.ADE_Panic_State"))) )   (unless design design = (sevDesign session))  (when (or (equal design nil) (equal '("part2" "decoder" "schematic") design))   (if design     then    queryStr = "ADE exited unexpectedly for this design in the last run.\nWould you like to restore the state as it existed before the crash?"    else    queryStr=" ADE exited unexpectedly for the following design in the last run\n   Library:\"part2\"\n   Cell:\"decoder\"\n   View:\"schematic\"\n Would you like to restore the ADE state as it existed before the crash?"   )    answer = (sevHiBlockingDialog      ?text        queryStr      ?banner    "Panic State Load Query"      ?dialogType    hicQuestionDialog      ?layout    'YesNo   )    (when answer     (sevSetTopSaveDir session dirName)     defStateName = envGetVal("asimenv" "stateName") 	envSetVal("asimenv" "stateName" 'string "")    (_sevRestoreAdePanicSession '(nil version 6.1 design ("part2" "decoder" "schematic") simulator "hspiceD" projectDir "/afs/ir/users/n/i/nipuna1/ee213/ee213_final_project/part2" hostMode "local" host "" remoteDir "" windowLocation (32541 -2115055127) windowBased t schematicBased nil schematic t saveDir "/afs/ir.stanford.edu/users/n/i/nipuna1/ee213/ee213_final_project/part2" saveQuery t designEditMode nil state "panic_state_May13_2016_183508" dataDir "/afs/ir.stanford.edu/users/n/i/nipuna1/ee213/ee213_final_project/part2/decoder/hspiceD/schematic") ?session session ?design design)    envSetVal("asimenv" "stateName" 'string defStateName)    status = 't      )      (sevDeleteAllDirFiles dirName)    (deleteDir dirName)    (putd '_sevPanicStateLoader nil)   )  status   )   ))